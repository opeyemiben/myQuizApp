<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Form</title>
  </head>
  <link rel="stylesheet" href="formcss.css">
  <body>
    <form action="action.php" method="post">
      <h2>My Form</h2>
      <fieldset>
        <legend>Basic details</legend>
        <label for="fname">First name:</label>
        <input type="text" id="fname" name="fname" placeholder="first name" />
        <p></p>
        <label for="lname">Last name:</label>
        <input type="text" id="lname" name="lname" placeholder="last name" />
        <p></p>
        <label for="pass">Password:</label>
        <input type="password" id="pass" name="pass" />
        <p></p>
        <label>Age</label>
        <input type="number" id="age" name="age" max="40" min="17" required />
      </fieldset>
      <br />
      <fieldset>
        <legend>choose your browser</legend>
        <!-- <p>choose your browser</p> -->
        <input type="radio" id="opera" name="browser" value="Opera" checked />
        <label for="opera">Opera Mini</label><br />
        <input type="radio" id="chrome" name="browser" value="Chrome" />
        <label for="chrome">Chrome</label>
      </fieldset>
      <br />
      <fieldset>
        <legend>Means of Identification</legend>
        <!-- <p>Means of Identification</p> -->
        <input type="checkbox" id="license" name="license" value="License" />
        <label for="license">License</label><br />
        <input type="checkbox" id="nin" name="nin" value="NIN" checked />
        <label for="nin">NIN</label>
      </fieldset>
      <p></p>
      <label for="car"> Select your car </label>
      <select id="car" name="car">
        <option value="Volvo">Volvo</option>
        <option value="Mercedez" selected>Mercedez</option>
        <option value="Ford">Ford</option>
        <option value="Audi">Audi</option>
      </select>
      <p>Enter a comment</p>
      <label for="message">Message</label>
      <textarea id="message" rows="10" cols="30"></textarea>
      <p>Upload a file</p>
      <input type="file" id="myfile" name="myfile" accept=".jpg,.png,.xlsx" />
        <!-- <p></p>
        <button onclick="alert('This lecture is on HTML forms!')">Click Me</button> -->
        <p></p>
      <input type="submit" value="Submit Form" />
    </form>
    <script>
      let form = document.querySelector("form");
      form.addEventListener("submit", submitForm);

      function submitForm(event) {
        event.preventDefault();
        let formData = new FormData(form);
        let data = Object.fromEntries(formData);
        let jsonData = JSON.stringify(data);

        fetch("https://jsonplaceholder.typicode.com/posts", {
          method: "POST",
          body: jsonData,
          headers: {
            "Content-type": "application/json; charset=UTF-8",
          },
        })
          .then((response) => response.json())
          .then((json) => console.table(json))
          .catch((err) => console.log(err));
      }
    </script>
    <button><a href="layout.html">GO BACK</a></button>
  </body>
</html>
